{"ast":null,"code":"import _defineProperty from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\3-Limyong\\\\front\\\\src\\\\modals\\\\components\\\\CityAdd\\\\CityAdd.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport queryString from 'query-string';\nimport { withRouter } from 'react-router-dom';\nimport { Form, FormGroup, Label, Input } from 'reactstrap';\nimport Switch from 'react-toggle-switch';\nimport { ImageUploader } from 'components';\nimport ModalWrapper from '../ModalWrapper';\nimport { addCity } from 'services/city/cityActions';\n\nvar CityAdd =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CityAdd, _React$Component);\n\n  function CityAdd(props) {\n    var _this;\n\n    _classCallCheck(this, CityAdd);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CityAdd).call(this, props));\n    _this.state = {\n      is_open: 1\n    };\n    _this.submit_data = {\n      order: 1\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onLoad = _this.onLoad.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CityAdd, [{\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.submit_data = _objectSpread({}, this.submit_data, _defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"onLoad\",\n    value: function onLoad(file, file_type, file_name) {\n      this.submit_data = _objectSpread({}, this.submit_data, {\n        file: file,\n        file_type: file_type,\n        file_name: file_name\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ModalWrapper, {\n        title: \"Add city\",\n        onOk: function onOk() {\n          var params = queryString.parse(_this2.props.location.search);\n          _this2.submit_data = _objectSpread({}, _this2.submit_data, {\n            is_open: _this2.state.is_open\n          });\n\n          _this2.props.cityActions.addCity(_this2.submit_data, params);\n        },\n        okText: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Form, {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Name\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"name\",\n        id: \"name\",\n        placeholder: \"City name here\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"order\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Order\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"order\",\n        id: \"order\",\n        defaultValue: 1,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"is_open\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Open/Closed\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        id: \"is_open\",\n        onClick: function onClick() {\n          _this2.setState({\n            is_open: ~~!_this2.state.is_open\n          });\n        },\n        on: !!this.state.is_open,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Image\"), React.createElement(ImageUploader, {\n        style: {\n          position: 'relative',\n          width: '100%',\n          height: 'auto',\n          minHeight: '300px',\n          borderWidth: '2px',\n          borderColor: 'rgb(102, 102, 102)',\n          borderStyle: 'dashed',\n          borderRadius: '5px'\n        },\n        handleOnLoad: this.onLoad,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return CityAdd;\n}(React.Component);\n\nCityAdd = withRouter(CityAdd);\nexport default connect(null, function (dispatch) {\n  return {\n    cityActions: bindActionCreators({\n      addCity: addCity\n    }, dispatch)\n  };\n})(CityAdd);","map":{"version":3,"sources":["E:\\3-Limyong\\front\\src\\modals\\components\\CityAdd\\CityAdd.js"],"names":["React","connect","bindActionCreators","queryString","withRouter","Form","FormGroup","Label","Input","Switch","ImageUploader","ModalWrapper","addCity","CityAdd","props","state","is_open","submit_data","order","onChange","bind","onLoad","e","target","name","value","file","file_type","file_name","params","parse","location","search","cityActions","setState","position","width","height","minHeight","borderWidth","borderColor","borderStyle","borderRadius","Component","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport queryString from 'query-string';\nimport { withRouter } from 'react-router-dom';\nimport { Form, FormGroup, Label, Input } from 'reactstrap';\nimport Switch from 'react-toggle-switch';\nimport { ImageUploader } from 'components';\nimport ModalWrapper from '../ModalWrapper';\nimport { addCity } from 'services/city/cityActions';\n\nclass CityAdd extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { is_open: 1 };\n\n    this.submit_data = { order: 1 };\n\n    this.onChange = this.onChange.bind(this);\n    this.onLoad = this.onLoad.bind(this);\n  }\n\n  onChange(e) {\n    this.submit_data = {\n      ...this.submit_data,\n      [e.target.name]: e.target.value\n    };\n  }\n\n  onLoad(file, file_type, file_name) {\n    this.submit_data = {\n      ...this.submit_data,\n      file,\n      file_type,\n      file_name\n    };\n  }\n\n  render() {\n    return (\n      <ModalWrapper\n        title=\"Add city\"\n        onOk={() => {\n          const params = queryString.parse(this.props.location.search);\n          this.submit_data = {\n            ...this.submit_data,\n            is_open: this.state.is_open\n          };\n\n          this.props.cityActions.addCity(this.submit_data, params);\n        }}\n        okText=\"Submit\"\n      >\n        <Form className=\"mt-3\">\n          {/* City name */}\n          <FormGroup>\n            <Label for=\"name\">Name</Label>\n            <Input\n              type=\"text\"\n              name=\"name\"\n              id=\"name\"\n              placeholder=\"City name here\"\n              onChange={this.onChange}\n            />\n          </FormGroup>\n\n          {/* City order */}\n          <FormGroup>\n            <Label for=\"order\">Order</Label>\n            <Input\n              type=\"text\"\n              name=\"order\"\n              id=\"order\"\n              defaultValue={1}\n              onChange={this.onChange}\n            />\n          </FormGroup>\n\n          {/* City switch on/off */}\n          <FormGroup>\n            <Label for=\"is_open\">Open/Closed</Label>\n            <div>\n              <Switch\n                id=\"is_open\"\n                onClick={() => {\n                  this.setState({ is_open: ~~!this.state.is_open });\n                }}\n                on={!!this.state.is_open}\n              />\n            </div>\n          </FormGroup>\n\n          {/* City image */}\n          <FormGroup>\n            <Label>Image</Label>\n            <ImageUploader\n              style={{\n                position: 'relative',\n                width: '100%',\n                height: 'auto',\n                minHeight: '300px',\n                borderWidth: '2px',\n                borderColor: 'rgb(102, 102, 102)',\n                borderStyle: 'dashed',\n                borderRadius: '5px'\n              }}\n              handleOnLoad={this.onLoad}\n            />\n          </FormGroup>\n        </Form>\n      </ModalWrapper>\n    );\n  }\n}\n\nCityAdd = withRouter(CityAdd);\n\nexport default connect(\n  null,\n  dispatch => ({\n    cityActions: bindActionCreators({ addCity }, dispatch)\n  })\n)(CityAdd);\n"]},"metadata":{},"sourceType":"module"}