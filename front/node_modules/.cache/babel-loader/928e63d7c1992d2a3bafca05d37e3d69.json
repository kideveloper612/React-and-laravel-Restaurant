{"ast":null,"code":"import _defineProperty from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"E:\\\\3-Limyong\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\n\nvar _handleActions;\n\nimport { handleActions } from 'redux-actions';\nimport { login, loginFailed, loginSucceed, getStoredUser, getUserFromApi, getUserFromApiFailed, getUserFromApiSucceed, logout } from './authActions';\nimport { storeCurrentUser, getStoredUser as getLocalStorageUser, storeCurrentToken, getStoredToken, removeCurrentToken, removeCurrentUser } from './services';\nvar defaultState = {\n  currentUser: null,\n  error: null,\n  loading: false,\n  token: {\n    token_type: null,\n    expires_in: null,\n    access_token: null,\n    refresh_token: null\n  }\n};\nvar reducer = handleActions((_handleActions = {}, _defineProperty(_handleActions, login, function (state) {\n  return _objectSpread({}, state, {\n    error: null,\n    loading: true\n  });\n}), _defineProperty(_handleActions, loginFailed, function (state, _ref) {\n  var error = _ref.payload.error;\n  return _objectSpread({}, state, error, {\n    currentUser: null,\n    loading: false\n  });\n}), _defineProperty(_handleActions, loginSucceed, function (state, _ref2) {\n  var token = _ref2.payload.token;\n  storeCurrentToken(token);\n  return _objectSpread({}, state, {\n    token: token,\n    error: null,\n    loading: false\n  });\n}), _defineProperty(_handleActions, getStoredUser, function (state) {\n  return _objectSpread({}, state, {\n    currentUser: getLocalStorageUser(),\n    token: getStoredToken()\n  });\n}), _defineProperty(_handleActions, getUserFromApi, function (state) {\n  return _objectSpread({}, state, {\n    error: null,\n    loading: true\n  });\n}), _defineProperty(_handleActions, getUserFromApiFailed, function (state, _ref3) {\n  var error = _ref3.payload.error;\n  return _objectSpread({}, state, {\n    error: error,\n    loading: false\n  });\n}), _defineProperty(_handleActions, getUserFromApiSucceed, function (state, _ref4) {\n  var user = _ref4.payload.user;\n  storeCurrentUser(user);\n  return _objectSpread({}, state, {\n    error: null,\n    loading: false,\n    currentUser: user\n  });\n}), _defineProperty(_handleActions, logout, function (state) {\n  console.error('logout dispatched reducer');\n  removeCurrentToken();\n  removeCurrentUser();\n  return _objectSpread({}, state, {\n    currentUser: null\n  });\n}), _handleActions), defaultState);\nexport default reducer;","map":{"version":3,"sources":["E:\\3-Limyong\\front\\src\\services\\auth\\authReducer.js"],"names":["handleActions","login","loginFailed","loginSucceed","getStoredUser","getUserFromApi","getUserFromApiFailed","getUserFromApiSucceed","logout","storeCurrentUser","getLocalStorageUser","storeCurrentToken","getStoredToken","removeCurrentToken","removeCurrentUser","defaultState","currentUser","error","loading","token","token_type","expires_in","access_token","refresh_token","reducer","state","payload","user","console"],"mappings":";;;;;AAAA,SAASA,aAAT,QAA8B,eAA9B;AAEA,SACEC,KADF,EAEEC,WAFF,EAGEC,YAHF,EAIEC,aAJF,EAKEC,cALF,EAMEC,oBANF,EAOEC,qBAPF,EAQEC,MARF,QASO,eATP;AAWA,SACEC,gBADF,EAEEL,aAAa,IAAIM,mBAFnB,EAGEC,iBAHF,EAIEC,cAJF,EAKEC,kBALF,EAMEC,iBANF,QAOO,YAPP;AASA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,WAAW,EAAE,IADM;AAEnBC,EAAAA,KAAK,EAAE,IAFY;AAGnBC,EAAAA,OAAO,EAAE,KAHU;AAInBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,UAAU,EAAE,IADP;AAELC,IAAAA,UAAU,EAAE,IAFP;AAGLC,IAAAA,YAAY,EAAE,IAHT;AAILC,IAAAA,aAAa,EAAE;AAJV;AAJY,CAArB;AAYA,IAAMC,OAAO,GAAGxB,aAAa,uDAExBC,KAFwB,YAEjBwB,KAFiB,EAEV;AACb,2BACKA,KADL;AAEER,IAAAA,KAAK,EAAE,IAFT;AAGEC,IAAAA,OAAO,EAAE;AAHX;AAKD,CARwB,mCASxBhB,WATwB,YAUvBuB,KAVuB,QAcvB;AAAA,MAFaR,KAEb,QAFES,OAEF,CAFaT,KAEb;AACA,2BACKQ,KADL,EAEKR,KAFL;AAGED,IAAAA,WAAW,EAAE,IAHf;AAIEE,IAAAA,OAAO,EAAE;AAJX;AAMD,CArBwB,mCAsBxBf,YAtBwB,YAuBvBsB,KAvBuB,SA2BvB;AAAA,MAFaN,KAEb,SAFEO,OAEF,CAFaP,KAEb;AACAR,EAAAA,iBAAiB,CAACQ,KAAD,CAAjB;AAEA,2BACKM,KADL;AAEEN,IAAAA,KAAK,EAAEA,KAFT;AAGEF,IAAAA,KAAK,EAAE,IAHT;AAIEC,IAAAA,OAAO,EAAE;AAJX;AAMD,CApCwB,mCAqCxBd,aArCwB,YAqCTqB,KArCS,EAqCF;AACrB,2BACKA,KADL;AAEET,IAAAA,WAAW,EAAEN,mBAAmB,EAFlC;AAGES,IAAAA,KAAK,EAAEP,cAAc;AAHvB;AAKD,CA3CwB,mCA4CxBP,cA5CwB,YA4CRoB,KA5CQ,EA4CD;AACtB,2BACKA,KADL;AAEER,IAAAA,KAAK,EAAE,IAFT;AAGEC,IAAAA,OAAO,EAAE;AAHX;AAKD,CAlDwB,mCAmDxBZ,oBAnDwB,YAoDvBmB,KApDuB,SAwDvB;AAAA,MAFaR,KAEb,SAFES,OAEF,CAFaT,KAEb;AACA,2BACKQ,KADL;AAEER,IAAAA,KAAK,EAALA,KAFF;AAGEC,IAAAA,OAAO,EAAE;AAHX;AAKD,CA9DwB,mCA+DxBX,qBA/DwB,YAgEvBkB,KAhEuB,SAoEvB;AAAA,MAFaE,IAEb,SAFED,OAEF,CAFaC,IAEb;AACAlB,EAAAA,gBAAgB,CAACkB,IAAD,CAAhB;AACA,2BACKF,KADL;AAEER,IAAAA,KAAK,EAAE,IAFT;AAGEC,IAAAA,OAAO,EAAE,KAHX;AAIEF,IAAAA,WAAW,EAAEW;AAJf;AAMD,CA5EwB,mCA6ExBnB,MA7EwB,YA6EhBiB,KA7EgB,EA6ET;AACdG,EAAAA,OAAO,CAACX,KAAR,CAAc,2BAAd;AACAJ,EAAAA,kBAAkB;AAClBC,EAAAA,iBAAiB;AACjB,2BACKW,KADL;AAEET,IAAAA,WAAW,EAAE;AAFf;AAID,CArFwB,oBAuF3BD,YAvF2B,CAA7B;AA0FA,eAAeS,OAAf","sourcesContent":["import { handleActions } from 'redux-actions';\n\nimport {\n  login,\n  loginFailed,\n  loginSucceed,\n  getStoredUser,\n  getUserFromApi,\n  getUserFromApiFailed,\n  getUserFromApiSucceed,\n  logout\n} from './authActions';\n\nimport {\n  storeCurrentUser,\n  getStoredUser as getLocalStorageUser,\n  storeCurrentToken,\n  getStoredToken,\n  removeCurrentToken,\n  removeCurrentUser\n} from './services';\n\nconst defaultState = {\n  currentUser: null,\n  error: null,\n  loading: false,\n  token: {\n    token_type: null,\n    expires_in: null,\n    access_token: null,\n    refresh_token: null\n  }\n};\n\nconst reducer = handleActions(\n  {\n    [login](state) {\n      return {\n        ...state,\n        error: null,\n        loading: true\n      };\n    },\n    [loginFailed](\n      state,\n      {\n        payload: { error }\n      }\n    ) {\n      return {\n        ...state,\n        ...error,\n        currentUser: null,\n        loading: false\n      };\n    },\n    [loginSucceed](\n      state,\n      {\n        payload: { token }\n      }\n    ) {\n      storeCurrentToken(token);\n\n      return {\n        ...state,\n        token: token,\n        error: null,\n        loading: false\n      };\n    },\n    [getStoredUser](state) {\n      return {\n        ...state,\n        currentUser: getLocalStorageUser(),\n        token: getStoredToken()\n      };\n    },\n    [getUserFromApi](state) {\n      return {\n        ...state,\n        error: null,\n        loading: true\n      };\n    },\n    [getUserFromApiFailed](\n      state,\n      {\n        payload: { error }\n      }\n    ) {\n      return {\n        ...state,\n        error,\n        loading: false\n      };\n    },\n    [getUserFromApiSucceed](\n      state,\n      {\n        payload: { user }\n      }\n    ) {\n      storeCurrentUser(user);\n      return {\n        ...state,\n        error: null,\n        loading: false,\n        currentUser: user\n      };\n    },\n    [logout](state) {\n      console.error('logout dispatched reducer');\n      removeCurrentToken();\n      removeCurrentUser();\n      return {\n        ...state,\n        currentUser: null\n      };\n    }\n  },\n  defaultState\n);\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}